!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("react"),require("classnames"),require("react-dom")):"function"==typeof define&&define.amd?define("react-ribbon",["react","classnames","react-dom"],e):t.ReactRibbon=e(t.React,t.classNames,t.ReactDOM)}(this,function(t,e,i){"use strict";t="default"in t?t.default:t,e="default"in e?e.default:e,i="default"in i?i.default:i;var n=function(){var t=(new Date).getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var i=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?i:3&i|8).toString(16)});return e},o=function(t){var e=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return e.test(t)},a=function(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],e=arguments[1];e=e instanceof Function?e:function(t){return!0};for(var i=0;i<t.length;i++){var n=t[i];if(e(n))return n}},r=function(t){for(var e="undefined"!=typeof window&&null!==window?window:self,i=t.split("."),n=0;n<i.length;n++)e[i[n]]=e[i[n]]||{},e=e[i[n]];return e},s={newGUID:n,isGUID:o,findItem:a,namespace:r},u=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),c=function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,i,n)}if("value"in o)return o.value;var r=o.get;if(void 0!==r)return r.call(n)},d=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},p=function t(e,i,n,o){var a=Object.getOwnPropertyDescriptor(e,i);if(void 0===a){var r=Object.getPrototypeOf(e);null!==r&&t(r,i,n,o)}else if("value"in a&&a.writable)a.value=n;else{var s=a.set;void 0!==s&&s.call(o,n)}return n},b=Symbol("id"),f=Symbol("name"),y=Symbol("displayName"),g=Symbol("enabled"),v=Symbol("hidden"),m=function(){function t(e,i){if(u(this,t),"string"!=typeof e)throw"name is required.";this[b]=n(),this[f]=e,this[y]="string"!=typeof e?e:i,this[g]=!0,this[v]=!1}return l(t,[{key:"id",get:function(){return this[b]}},{key:"name",get:function(){return this[f]}},{key:"displayName",get:function(){return this[y]},set:function(t){if("string"!=typeof t)throw"Input type should be a string.";this[y]=t}},{key:"enabled",get:function(){return this[g]},set:function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0];this[g]=t===!0}},{key:"hidden",get:function(){return this[v]},set:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];this[v]=t===!0}}]),t}(),k=Symbol("actived"),O=Symbol("panels"),P=function(t){function e(t,i){u(this,e);var n=h(this,Object.getPrototypeOf(e).call(this,t,i));return n[k]=!1,n[O]=[],n}return d(e,t),l(e,[{key:"type",get:function(){return"ui-ribbon-tab-normal"}},{key:"actived",get:function(){return this[k]},set:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];this[k]=t===!0}},{key:"panels",get:function(){return this[O]},set:function(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];this[O]=t}}]),e}(m),T=Symbol("items"),S=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?"File":arguments[0];u(this,e);var i=h(this,Object.getPrototypeOf(e).call(this,"AppTab",t));return i[T]=[],i}return d(e,t),l(e,[{key:"type",get:function(){return"ui-ribbon-tab-application"}},{key:"items",get:function(){return this[T]},set:function(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];this[T]=t}}]),e}(P),C=function(t){function e(t){return u(this,e),"string"!=typeof t&&(t="React Ribbon"),h(this,Object.getPrototypeOf(e).call(this,"AppTitlebar",t))}return d(e,t),l(e,[{key:"title",get:function(){return this.displayName},set:function(t){this.displayName=t}}]),e}(m),R=function(t){function e(t){u(this,e);var i=h(this,Object.getPrototypeOf(e).call(this,t)),n="string"==typeof t.displayName?t.displayName:name,o=0!=t.enabled,a=t.hidden===!0;return i.state={displayName:n,enabled:o,hidden:a},i}return d(e,t),l(e,[{key:"id",get:function(){return this.props.id}},{key:"name",get:function(){return this.props.name}},{key:"displayName",get:function(){return this.state.displayName},set:function(t){if("string"!=typeof t)throw"Input type should be a string.";var e={displayName:t},i=this.props.onStateChange;i&&i(this.id,e),this.setState(e)}},{key:"enabled",get:function(){return this.state.enabled},set:function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0];if(!this.hidden){var e=t===!0,i={enabled:e},n=this.props.onStateChange;n&&n(this.id,i),this.setState(i)}}},{key:"hidden",get:function(){return this.state.hidden},set:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=t===!0,i=!e,n={hidden:e,enabled:i},o=this.props.onStateChange;o&&o(this.id,n),this.setState(n)}}]),e}(t.Component);R.propTypes={id:t.PropTypes.string.isRequired,name:t.PropTypes.string.isRequired,displayName:t.PropTypes.string,enabled:t.PropTypes.bool,hidden:t.PropTypes.bool,onStateChange:t.PropTypes.func},R.defaultProps={id:n(),enabled:!0,hidden:!1};var j=function(i){function n(t){return u(this,n),h(this,Object.getPrototypeOf(n).call(this,t))}return d(n,i),l(n,[{key:"toggleDisplay",value:function(){this.hidden=!this.hidden}},{key:"render",value:function(){var i=e({"ui-ribbon-invisible":this.hidden});return t.createElement("div",{className:"ui-ribbon-title "+i},t.createElement("span",null,this.title))}},{key:"title",get:function(){return this.displayName},set:function(t){if("string"!=typeof t)throw"Input type should be a string.";this.displayName=t}}]),n}(R);j.propTypes={onStateChange:t.PropTypes.func};var N=function(t){function e(t){u(this,e);var i=h(this,Object.getPrototypeOf(e).call(this,t)),n=t.actived===!0;return i.state=Object.assign(i.state,{actived:n}),i}return d(e,t),l(e,[{key:"type",get:function(){return this.props.type}},{key:"actived",get:function(){return this.state.actived},set:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=t===!0,i={actived:e},n=this.props.onStateChange;n&&n(this.id,i),this.setState(i)}}]),e}(R);N.propTypes={id:t.PropTypes.string.isRequired,type:t.PropTypes.string.isRequired,actived:t.PropTypes.bool,onStateChange:t.PropTypes.func},N.defaultProps={id:n(),type:"ui-ribbon-panel-item",actived:!1};var E=function(i){function n(t){u(this,n);var e=h(this,Object.getPrototypeOf(n).call(this,t));return e.state=Object.assign(e.state,{content:t.content}),e}return d(n,i),l(n,[{key:"show",value:function(){this.hidden=!1}},{key:"hide",value:function(){this.hidden=!0}},{key:"render",value:function(){var i=this,n=e({"ui-ribbon-tooltip-visible":this.hidden===!1}),o=function(){if(i.title)return t.createElement("strong",null,i.title)},a=function(){if(i.content)return t.createElement("p",null,i.content)};return t.createElement("div",{id:this.id,className:"ui-ribbon-tooltip "+n},o(),a())}},{key:"title",get:function(){return this.displayName},set:function(t){if("string"!=typeof t)throw"Input type should be a string.";this.displayName=t}},{key:"content",get:function(){return this.state.content},set:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0];if("string"!=typeof t)throw"Input content should be a string.";var e={content:t},i=this.props.onStateChange;i&&i(this.id,e),this.setState(e)}},{key:"hidden",get:function(){return this.state.hidden},set:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=t===!0,i={hidden:e},n=this.props.onStateChange;n&&n(this.id,i),this.setState(i)}}]),n}(R);E.propTypes={content:t.PropTypes.string,onStateChange:t.PropTypes.func};var x=Symbol("content"),w=function(t){function e(t,i){if(u(this,e),"string"!=typeof t)throw"Tooltip title cannot be empty.";var n=h(this,Object.getPrototypeOf(e).call(this,"RibbonTooltip",t));return n[x]="string"!=typeof i?void 0:i,n.hidden=!0,n}return d(e,t),l(e,[{key:"title",get:function(){return this.displayName},set:function(t){this.displayName=t}},{key:"content",get:function(){return this[x]},set:function(t){if("string"!=typeof t)throw"Input content should be a type of string.";this[x]=t}}]),e}(m),I=function(i){function o(t){u(this,o);var e=h(this,Object.getPrototypeOf(o).call(this,t)),i=t.icon,n=t.tooltip,a=t.toggleable===!0,r=t.clickHandler;return e.state=Object.assign(e.state,{icon:i,tooltip:n,toggleable:a,clickHandler:r}),e.handleClick=e.handleClick.bind(e),e.handleMouseOver=e.handleMouseOver.bind(e),e.handleMouseOut=e.handleMouseOut.bind(e),e}return d(o,i),l(o,[{key:"createTooltip",value:function(){var e=this,i=this.state.tooltip;if(i){if(!(i instanceof w)&&i)return console.log("%c[RibbonButton] Input tooltip data is invalid.","color:red;");var n=function(t,i){var n=e.state.tooltip;if(n.id===t){Object.assign(n,i);var o={tooltip:n},a=e.props.onStateChange;a&&a(e.id,o),e.setState(o)}};return t.createElement(E,{key:i.id,id:i.id,name:i.name,displayName:i.title,content:i.content,enabled:i.enabled,hidden:i.hidden,onStateChange:n,ref:"tooltip"})}}},{key:"handleClick",value:function(t){if(this.enabled){var e=this.props.clickHandler;e&&e(t)}}},{key:"handleMouseOver",value:function(){var t=this.tooltip;t&&t.show()}},{key:"handleMouseOut",value:function(){var t=this.tooltip;t&&t.hide()}},{key:"render",value:function(){var i=e({"ui-ribbon-disabled":this.enabled===!1,"ui-ribbon-invisible":this.hidden}),o=e({"ui-ribbon-active":this.actived}),a=function(e){var i=e.split("\\n"),o=n(),a=t.createElement("span",{key:o,id:o},e);return i.length>1&&(a=i.map(function(e){var i=n();return t.createElement("span",{key:i,id:i},e,t.createElement("br",null))})),a};return t.createElement("a",{key:this.id,id:this.id,className:i,onClick:this.handleClick,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut},t.createElement("div",{role:this.role,className:"ui-ribbon-button "+this.type+" ui-ribbon-relative ui-ribbon-inline ui-ribbon-center "+o},t.createElement("img",{src:this.icon}),t.createElement("div",{className:"ui-ribbon-button-legend"},a(this.displayName)),this.createTooltip()))}},{key:"role",get:function(){return this.props.role}},{key:"icon",get:function(){return this.state.icon},set:function(t){if("string"!=typeof t)throw"Input type should be a string.";var e={icon:t},i=this.props.onStateChange;i&&i(this.id,e),this.setState(e)}},{key:"toggleable",get:function(){return this.state.toggleable},set:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=t===!0,i={toggleable:e},n=this.props.onStateChange;n&&n(this.id,i),this.setState(i)}},{key:"clickHandler",get:function(){return this.state.clickHandler},set:function(t){if(!(t instanceof Function))throw"Input clicking handler is invalid.";var e={clickHandler:t},i=this.props.onStateChange;i&&i(this.id,e),this.setState(e)}},{key:"tooltip",get:function(){return this.refs.tooltip},set:function(t){if(!(t instanceof w))throw"[RibbonButton] Input tooltip data is invalid.";var e={tooltip:t},i=this.props.onStateChange;i&&i(this.id,e),this.setState(e)}}]),o}(N);I.propTypes={id:t.PropTypes.string.isRequired,role:t.PropTypes.string.isRequired,type:t.PropTypes.string.isRequired,icon:t.PropTypes.string,tooltip:t.PropTypes.instanceOf(w),toggleable:t.PropTypes.bool,clickHandler:t.PropTypes.func,onStateChange:t.PropTypes.func},I.defaultProps={id:n(),role:"ui-ribbon-button",type:"ui-ribbon-button",icon:"",toggleable:!1};var D=function(i){function n(t){return u(this,n),h(this,Object.getPrototypeOf(n).call(this,t))}return d(n,i),l(n,[{key:"render",value:function(){var i=e({"ui-ribbon-disabled":this.enabled===!1,"ui-ribbon-invisible":this.hidden});return t.createElement("div",{className:"ui-ribbon-button-group ui-ribbon-inline "+i},c(Object.getPrototypeOf(n.prototype),"render",this).call(this))}}]),n}(I);D.propTypes={type:t.PropTypes.string.isRequired,onStateChange:t.PropTypes.func},D.defaultProps={type:"ui-ribbon-button-big"};var M=function(t){function e(t){u(this,e);var i=h(this,Object.getPrototypeOf(e).call(this,t));return i.handleClick=i.handleClick.bind(i),i}return d(e,t),l(e,[{key:"handleClick",value:function(t){if(this.enabled){if(this.toggleable){var e=!this.actived,i={actived:e},n=this.props.onStateChange;n&&n(this.id,i),this.setState(i);var o=this.props.onGroupCurrentChange;o&&o()}var a=this.props.clickHandler;a&&a(t)}}}]),e}(D);M.propTypes={type:t.PropTypes.string.isRequired,role:t.PropTypes.string.isRequired,onGroupCurrentChange:t.PropTypes.func,onStateChange:t.PropTypes.func},M.defaultProps={role:"ui-ribbon-button-toggle",type:"ui-ribbon-button-big"};var q=Symbol("actived"),H=function(t){function e(t,i){u(this,e);var n=h(this,Object.getPrototypeOf(e).call(this,t,i));return n[q]=!1,n}return d(e,t),l(e,[{key:"type",get:function(){return"ui-ribbon-panel-item"}},{key:"actived",get:function(){return this[q]},set:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];this[q]=t===!0}}]),e}(m),B=Symbol("icon"),G=Symbol("tooltip"),U=Symbol("toggleable"),A=Symbol("clickHandler"),F=function(t){function e(t,i){u(this,e);var n=h(this,Object.getPrototypeOf(e).call(this,t,i));return n[B]="",n[G]=void 0,n[U]=!1,n[A]=void 0,n}return d(e,t),l(e,[{key:"role",get:function(){return"ui-ribbon-button"}},{key:"icon",get:function(){return this[B]},set:function(t){if("string"!=typeof t)throw"Input type should be a string.";this[B]=t}},{key:"tooltip",get:function(){return this[G]},set:function(t){if(!(t instanceof w))throw"Input data is not a type of RibbonTooltipData.";this[G]=t}},{key:"toggleable",get:function(){return this[U]},set:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];this[U]=t===!0}},{key:"clickHandler",get:function(){return this[A]},set:function(t){if(!(t instanceof Function))throw"Input clicking handler is invalid.";this[A]=t}}]),e}(H),W=function(t){function e(t,i){return u(this,e),h(this,Object.getPrototypeOf(e).call(this,t,i))}return d(e,t),l(e,[{key:"type",get:function(){return"ui-ribbon-button-big"}}]),e}(F),_=function(t){function e(t,i){return u(this,e),h(this,Object.getPrototypeOf(e).call(this,t,i))}return d(e,t),l(e,[{key:"role",get:function(){return"ui-ribbon-button-toggle"}},{key:"toggleable",get:function(){return!0}}]),e}(W),L=Symbol("items"),$=function(i){function n(t){u(this,n);var e=h(this,Object.getPrototypeOf(n).call(this,t));return e.state=Object.assign(e.state,{items:[].concat(t.items)}),e[L]=[],e}return d(n,i),l(n,[{key:"addItem",value:function(t){var e=this.items.findIndex(function(e){return e.id==t.id||e.name===t.name});if(!(t instanceof F)||e!==-1)return console.log("%c[RibbonGroup] Input itemData is invalid or duplicate.","color:red;");var i=this.state.items.concat(t),n={items:i},o=this.props.onStateChange;return o&&o(this.id,n),this.setState(n),this.items[this.items.length-1]}},{key:"componentWillUpdate",value:function(t,e){this[L].length=0}},{key:"render",value:function(){var i=this,n=this.state.items,o=function(t,e){var n=i.state.items,o=n.find(function(e){return e.id===t});if(o){Object.assign(o,e);var a={items:n},r=i.props.onStateChange;r&&r(i.id,a),i.setState(a)}},a=function(e){var n=void 0;switch(e.type){case"ui-ribbon-button-big":var a="ui-ribbon-button-toggle"===e.role?M:D;n=t.createElement(a,{key:e.id,id:e.id,name:e.name,displayName:e.displayName,enabled:e.enabled,hidden:e.hidden,type:e.type,actived:e.actived,icon:e.icon,tooltip:e.tooltip,toggleable:e.toggleable,clickHandler:e.clickHandler,onStateChange:o,ref:function(t){t&&i.items.push(t)}})}return n},r=e({"ui-ribbon-disabled":this.enabled===!1,"ui-ribbon-invisible":this.hidden});return t.createElement("div",{key:this.id,id:this.id,className:"ui-ribbon-group ui-ribbon-inline "+r},n.map(a))}},{key:"items",get:function(){return this[L]}},{key:"enabled",get:function(){return c(Object.getPrototypeOf(n.prototype),"enabled",this)},set:function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0];if(!this.hidden){var e=t===!0;p(Object.getPrototypeOf(n.prototype),"enabled",e,this),this.items.map(function(t){t.enabled=e})}}},{key:"hidden",get:function(){return c(Object.getPrototypeOf(n.prototype),"hidden",this)},set:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=t===!0;p(Object.getPrototypeOf(n.prototype),"hidden",e,this),this.items.map(function(t){t.hidden=e})}}]),n}(N);$.propTypes={id:t.PropTypes.string.isRequired,items:t.PropTypes.arrayOf(t.PropTypes.instanceOf(F)),onStateChange:t.PropTypes.func},$.defaultProps={id:n(),items:[]};var z=Symbol("current"),J=Symbol("default"),K=function(i){function n(t){u(this,n);var e=h(this,Object.getPrototypeOf(n).call(this,t));return e[z]=void 0,e[J]=void 0,e}return d(n,i),l(n,[{key:"resetCurrent",value:function(){this.current=this.default}},{key:"addItem",value:function(t){if(!(t instanceof _))return console.log("%c[RibbonGroup] Input itemData is invalid or duplicate.","color:red;");var e=c(Object.getPrototypeOf(n.prototype),"addItem",this).call(this,t);return this.default||(this.default=e.id),e}},{key:"render",value:function(){var i=this,n=this.state.items,o=function(t){"string"==typeof t&&(i.current=t)},a=function(t,e){var n=i.state.items,o=n.find(function(e){return e.id===t});if(o){Object.assign(o,e);var a={items:n},r=i.props.onStateChange;r&&r(i.id,a),i.setState(a)}},r=function(e){return t.createElement(M,{key:e.id,id:e.id,name:e.name,displayName:e.displayName,enabled:e.enabled,hidden:e.hidden,type:e.type,actived:e.actived,icon:e.icon,tooltip:e.tooltip,toggleable:e.toggleable,clickHandler:e.clickHandler,onGroupCurrentChange:function(){o(e.id)},onStateChange:a,ref:function(t){t&&i.items.push(t)}})},s=e({"ui-ribbon-disabled":this.enabled===!1,"ui-ribbon-invisible":this.hidden});return t.createElement("div",{key:this.id,id:this.id,className:"ui-ribbon-group ui-ribbon-inline "+s},n.map(r))}},{key:"current",get:function(){return this[z]},set:function(t){var e=this.items.find(function(e){return e.id===t&&e.enabled});if(!e)throw"[RibbonRadioButtonGroup] Input id not exists or disabled.";e.actived=!0,this[z]=t,this.default||(this.default=t),this.items.map(function(e){e.id!==t&&(e.actived=!1)})}},{key:"default",get:function(){return this[J]},set:function(t){var e=this.items.find(function(e){return e.id===t&&e.enabled});if(!e)throw"[RibbonRadioButtonGroup] Input id not exists or disabled.";this[J]=t,this.current||(this.current=t)}}]),n}($);$.propTypes={id:t.PropTypes.string.isRequired,items:t.PropTypes.arrayOf(t.PropTypes.instanceOf(_)),onStateChange:t.PropTypes.func},$.defaultProps={id:n(),items:[]};var Q=Symbol("items"),V=function(t){function e(t,i){u(this,e);var n=h(this,Object.getPrototypeOf(e).call(this,t,i));return n[Q]=[],n}return d(e,t),l(e,[{key:"type",get:function(){return"ui-ribbon-group"}},{key:"items",get:function(){return this[Q]},set:function(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];this[Q]=t}}]),e}(H),X=function(t){function e(t,i){return u(this,e),h(this,Object.getPrototypeOf(e).call(this,t,i))}return d(e,t),l(e,[{key:"type",get:function(){return"ui-ribbon-radio-group"}}]),e}(V),Y=Symbol("items"),Z=function(i){function n(t){u(this,n);var e=h(this,Object.getPrototypeOf(n).call(this,t));return e.state=Object.assign(e.state,{items:[].concat(t.items)}),e[Y]=[],e}return d(n,i),l(n,[{key:"addItem",value:function(t){var e=this.items.findIndex(function(e){return e.id==t.id||e.name===t.name});if(!(t instanceof H)||e!==-1)return console.log("%c[RibbonPanel] Input itemData is invalid or duplicate.","color:red;");var i=this.state.items.concat(t),n={items:i},o=this.props.onStateChange;return o&&o(this.id,n),this.setState(n),this.items[this.items.length-1]}},{key:"componentWillUpdate",value:function(t,e){this[Y].length=0}},{key:"render",value:function(){var i=this,n=this.state.items,o=e({"ui-ribbon-disabled":this.enabled===!1,"ui-ribbon-invisible":this.hidden,"ui-ribbon-inline":this.hidden===!1}),a=e({"ui-ribbon-empty":0===n.length,"ui-riibon-panel-single-btn":1===n.length}),r=e({"ui-ribbon-disabled":this.enabled===!1}),s=function(t,e){var n=i.state.items,o=n.find(function(e){return e.id===t});if(o){Object.assign(o,e);var a={items:n},r=i.props.onStateChange;r&&r(i.id,a),i.setState(a)}},u=function(e){var n=void 0;switch(e.type){case"ui-ribbon-radio-group":case"ui-ribbon-group":var o="ui-ribbon-group"===e.type?$:K;n=t.createElement(o,{key:e.id,id:e.id,name:e.name,displayName:e.displayName,enabled:e.enabled,hidden:e.hidden,type:e.type,items:e.items,actived:e.actived,onStateChange:s,ref:function(t){t&&i.items.push(t)}});break;case"ui-ribbon-button-big":var a="ui-ribbon-button-toggle"===e.role?M:D;n=t.createElement(a,{key:e.id,id:e.id,name:e.name,displayName:e.displayName,enabled:e.enabled,hidden:e.hidden,type:e.type,actived:e.actived,icon:e.icon,tooltip:e.tooltip,toggleable:e.toggleable,clickHandler:e.clickHandler,onStateChange:s,ref:function(t){t&&i.items.push(t)}})}return n},l=function(){var e=arguments.length<=0||void 0===arguments[0]||arguments[0];if(e)return t.createElement("div",{className:"ui-ribbon-panel-seperator ui-ribbon-relative ui-ribbon-inline"})};return t.createElement("div",{key:this.id,className:"ui-ribbon-panel-container ui-ribbon-relative "+o},l(this.seperator),t.createElement("div",{className:"ui-ribbon-panel ui-ribbon-relative ui-ribbon-inline "+a},t.createElement("div",{className:"ui-ribbon-panel-contents"},n.map(u),t.createElement("div",{className:"ui-ribbon-panel-legend ui-ribbon-absolute "+r},this.displayName))))}},{key:"seperator",get:function(){return this.props.seperator}},{key:"items",get:function(){return this[Y]}},{key:"enabled",get:function(){return c(Object.getPrototypeOf(n.prototype),"enabled",this)},set:function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0];if(!this.hidden){var e=t===!0;p(Object.getPrototypeOf(n.prototype),"enabled",e,this),this.items.map(function(t){t.enabled=e})}}},{key:"hidden",get:function(){return c(Object.getPrototypeOf(n.prototype),"hidden",this)},set:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=t===!0;p(Object.getPrototypeOf(n.prototype),"hidden",e,this),this.items.map(function(t){t.hidden=e})}}]),n}(R);Z.propTypes={id:t.PropTypes.string.isRequired,seperator:t.PropTypes.bool,items:t.PropTypes.arrayOf(t.PropTypes.instanceOf(H)),onStateChange:t.PropTypes.func},Z.defaultProps={id:n(),seperator:!0,items:[]};var tt=Symbol("seperator"),et=Symbol("items"),it=function(t){function e(t,i){u(this,e);var n=h(this,Object.getPrototypeOf(e).call(this,t,i));return n[tt]=!0,n[et]=[],n}return d(e,t),l(e,[{key:"seperator",get:function(){return this[tt]},set:function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0];this[tt]=t===!0}},{key:"items",get:function(){return this[et]},set:function(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];this[et]=t}}]),e}(m),nt=Symbol("panels"),ot=function(i){function n(t){u(this,n);var e=h(this,Object.getPrototypeOf(n).call(this,t)),i=t.actived===!0;return e.state=Object.assign(e.state,{actived:i,panels:[].concat(t.panels)}),e[nt]=[],e.handleClick=e.handleClick.bind(e),e}return d(n,i),l(n,[{key:"addPanel",value:function(t){var e=this.panels.findIndex(function(e){return e.id==t.id||e.name===t.name});if(!(t instanceof it)||e!==-1)return console.log("%c[RibbonTab] Input panelData is invalid or duplicate.","color:red;");t.seperator=0!==this.panels.length;var i=this.state.panels.concat(t),n={panels:i},o=this.props.onStateChange;return o&&o(this.id,n),this.setState(n),this.panels[this.panels.length-1]}},{key:"componentWillUpdate",value:function(t,e){this[nt].length=0}},{key:"handleClick",value:function(){if("ui-ribbon-tab-application"!==this.type){var t=this.props.onClick;t&&t(this.id)}}},{key:"render",value:function(){var i=this,n=this.state.panels,o=e({"ui-ribbon-active":this.actived,"ui-ribbon-disabled":this.enabled===!1,"ui-ribbon-invisible":this.hidden,"ui-ribbon-inline":this.hidden===!1}),a=function(t,e){var n=i.state.panels,o=n.find(function(e){return e.id===t});if(o){Object.assign(o,e);var a={panels:n},r=i.props.onStateChange;r&&r(i.id,a),i.setState(a)}},r=function(e){return t.createElement(Z,{key:e.id,id:e.id,name:e.name,displayName:e.displayName,enabled:e.enabled,hidden:e.hidden,seperator:e.seperator,items:e.items,onStateChange:a,ref:function(t){t&&i.panels.push(t)}})};return t.createElement("li",{key:this.id,id:this.id,className:this.type+" "+o,role:"ui-ribbon-tab",onClick:this.handleClick},t.createElement("span",{className:"ui-ribbon-uppercase"},this.displayName),t.createElement("div",{className:"ui-ribbon-tab-contents ui-ribbon-absolute"},n.map(r)))}},{key:"type",get:function(){return this.props.type}},{key:"enabled",get:function(){return c(Object.getPrototypeOf(n.prototype),"enabled",this)},set:function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0];if(!this.hidden){var e=t===!0,i={enabled:e,actived:!1},n=this.props.onStateChange;n&&n(this.id,i),this.panels.map(function(t){t.enabled=e}),this.setState(i)}}},{key:"hidden",get:function(){return c(Object.getPrototypeOf(n.prototype),"hidden",this)},set:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=t===!0,i=!e,n={hidden:e,enabled:i,actived:!1},o=this.props.onStateChange;o&&o(this.id,n),this.panels.map(function(t){t.hidden=e}),this.setState(n)}},{key:"actived",get:function(){return this.state.actived},set:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=t===!0,i={actived:e},n=this.props.onStateChange;n&&n(this.id,i),this.setState(i)}},{key:"panels",get:function(){return this[nt]}}]),n}(R);ot.propTypes={id:t.PropTypes.string.isRequired,type:t.PropTypes.string.isRequired,actived:t.PropTypes.bool,panels:t.PropTypes.arrayOf(t.PropTypes.instanceOf(it)),onStateChange:t.PropTypes.func},ot.defaultProps={id:n(),type:"ui-ribbon-tab-normal",actived:!1,panels:[]};var at=function(i){function n(t){u(this,n);var e=h(this,Object.getPrototypeOf(n).call(this,t)),i=t.actived===!0,o="string"==typeof t.content?t.content:"";return e.state=Object.assign(e.state,{actived:i,content:o}),e.handleClick=e.handleClick.bind(e),e}return d(n,i),l(n,[{key:"handleClick",value:function(t){this.actived=!0}},{key:"render",value:function(){var i=e({"ui-ribbon-active":this.actived,"ui-ribbon-disabled":this.enabled===!1,"ui-ribbon-invisible":this.hidden});return t.createElement("li",{key:this.id,className:i,onClick:this.handleClick},t.createElement("div",null," ",this.displayName," "))}},{key:"seperator",get:function(){return this.props.seperator}},{key:"enabled",get:function(){return c(Object.getPrototypeOf(n.prototype),"enabled",this)},set:function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0];if(!this.hidden){var e=t===!0;p(Object.getPrototypeOf(n.prototype),"enabled",e,this)}}},{key:"hidden",get:function(){return c(Object.getPrototypeOf(n.prototype),"hidden",this)},set:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=t===!0;p(Object.getPrototypeOf(n.prototype),"hidden",e,this)}},{key:"actived",get:function(){return this.state.actived},set:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=t===!0,i={actived:e},n=this.props.onStateChange;n&&n(this.id,i,!0),this.setState(i)}},{key:"content",get:function(){return this.state.content},set:function(t){if("string"!=typeof t)throw"Input type should be a string.";var e={content:t},i=this.props.onStateChange;i&&i(this.id,e),this.setState(e)}}]),n}(R);at.propTypes={id:t.PropTypes.string.isRequired,seperator:t.PropTypes.bool,actived:t.PropTypes.bool,content:t.PropTypes.string,onStateChange:t.PropTypes.func},at.defaultProps={id:n(),seperator:!0,actived:!1};var rt=Symbol("seperator"),st=Symbol("actived"),ut=Symbol("contnet"),lt=function(t){function e(t,i){u(this,e);var n=h(this,Object.getPrototypeOf(e).call(this,t,i));return n[rt]=!0,n[st]=!1,n[ut]=void 0,n}return d(e,t),l(e,[{key:"seperator",get:function(){return this[rt]},set:function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0];this[rt]=t===!0}},{key:"actived",get:function(){return this[st]},set:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];this[st]=t===!0}},{key:"content",get:function(){return this[ut]},set:function(t){if("string"!=typeof t)throw"Input type should be a string.";this[ut]=t}}]),e}(m),ct=Symbol("items"),dt=function(i){function n(t){u(this,n);var e=h(this,Object.getPrototypeOf(n).call(this,t));return e.state=Object.assign(e.state,{items:[].concat(t.items)}),e[ct]=[],e.handleClick=e.handleClick.bind(e),e.handleClose=e.handleClose.bind(e),e}return d(n,i),l(n,[{key:"addItem",value:function(t){var e=this.items.findIndex(function(e){return e.id===t.id||e.name===t.name});if(!(t instanceof lt)||e!==-1)return console.log("%c[RibbonAppTab] Input itemData is invalid or duplicate.","color:red;");var i=this.state.items.concat(t),n={items:i},o=this.props.onStateChange;return o&&o(this.id,n,!0),this.setState(n),this.items[this.items.length-1]}},{key:"componentWillUpdate",value:function(t,e){this[ct].length=0}},{key:"handleClick",value:function(t){var e=this.props.onClick;e&&e(this.id)}},{key:"handleClose",value:function(t){t.stopPropagation(),this.actived=!1}},{key:"render",value:function(){var i=this,n=e({"ui-ribbon-active":this.actived,"ui-ribbon-disabled":this.enabled===!1,"ui-ribbon-invisible":this.hidden,"ui-ribbon-inline":this.hidden===!1}),o=function(t,e){var n=i.state.items,o=n.find(function(e){return e.id===t});if(o){Object.assign(o,e);var a={items:n},r=i.props.onStateChange;r&&r(i.id,a),i.setState(a)}};return t.createElement("li",{key:this.id,id:this.id,className:this.type+" "+n,role:"ui-ribbon-tab",onClick:this.handleClick},t.createElement("span",{className:"ui-ribbon-uppercase"},this.displayName),t.createElement("div",{className:"ui-ribbon-tab-application-contents ui-ribbon-absolute"},t.createElement("div",{id:"ribbon-nav-application-menu"},t.createElement("div",{className:"ribbon-nav-back-arrow",onClick:this.handleClose}),t.createElement("ul",{role:"ribbon-nav-application-menu-items"},this.state.items.map(function(e){return t.createElement(at,{key:e.id,id:e.id,name:e.name,displayName:e.displayName,enabled:e.enabled,hidden:e.hidden,type:e.type,actived:e.actived,onStateChange:o,ref:function(t){t&&i.items.push(t)}})}))),t.createElement("div",{role:"ribbon-nav-application-menu-content"})))}},{key:"type",get:function(){return this.props.type}},{key:"items",get:function(){return this[ct]}},{key:"enabled",get:function(){return c(Object.getPrototypeOf(n.prototype),"enabled",this)},set:function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0];if(!this.hidden){var e=t===!0,i={enabled:e,actived:!1},n=this.props.onStateChange;n&&n(this.id,i,!0),this.setState(i),this.items.map(function(t){t.enabled=e})}}},{key:"hidden",get:function(){return c(Object.getPrototypeOf(n.prototype),"hidden",this)},set:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=t===!0,i=!e,n={hidden:e,enabled:i,actived:!1},o=this.props.onStateChange;o&&o(this.id,n,!0),this.setState(n),this.items.map(function(t){t.hidden=e})}},{key:"actived",get:function(){return this.state.actived},set:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=t===!0,i={actived:e},n=this.props.onStateChange;n&&n(this.id,i,!0),this.setState(i)}}]),n}(R);dt.propTypes={id:t.PropTypes.string.isRequired,type:t.PropTypes.string.isRequired,
actived:t.PropTypes.bool,items:t.PropTypes.arrayOf(t.PropTypes.instanceOf(lt)),onStateChange:t.PropTypes.func},dt.defaultProps={id:n(),type:"ui-ribbon-tab-application",actived:!1,items:[]};var ht=Symbol("tabs"),pt=function(e){function i(t){u(this,i);var e=h(this,Object.getPrototypeOf(i).call(this,t)),n=new S,o=[n].concat(t.tabs),a=new C;return e.state={tabs:o,titlebar:a},e[ht]=[],e.handleTabClick=e.handleTabClick.bind(e),e}return d(i,e),l(i,[{key:"toggleAppTitle",value:function(){this.refs.titlebar.toggleDisplay()}},{key:"addTab",value:function(t){var e=this.tabs.findIndex(function(e){return e.id==t.id||e.name===t.name});if(!(t instanceof P)||e!==-1)return console.log("%c[Ribbon] Input tabData is invalid or duplicate.","color:red;");t.actived=1===this.tabs.length;var i=this.state.tabs.concat(t);return this.setState({tabs:i}),this.tabs[this.tabs.length-1]}},{key:"activeTabById",value:function(t){if("string"!=typeof t)return console.log("%c[Ribbon] TabId should be a string.","color:red;");var e=this.tabs.find(function(e){return e.id===t});if(!e)throw"[Ribbon] Input tab id not exists.";e.actived=!0}},{key:"handleTabClick",value:function(t){this.activeTabById(t)}},{key:"componentWillUpdate",value:function(t,e){this[ht].length=0}},{key:"render",value:function(){var e=this,i=this.state.tabs,n=function(t,i){var n=e.state.titlebar;n.id===t&&(Object.assign(n,i),e.setState({titlebar:n}))},o=function(){var i=e.state.titlebar;return t.createElement(j,{key:i.id,id:i.id,name:i.name,displayName:i.title,enabled:i.enabled,hidden:i.hidden,ref:"titlebar",onStateChange:n})},a=function(t,i){if(i.hasOwnProperty("actived"))if(i.actived===!0)e.tabs.map(function(e){e.id!==t&&(e.actived=!1)});else if(i.hasOwnProperty("enabled")&&i.enabled===!1){var n=e.tabs.find(function(e){return e.id!==t&&e.enabled===!0&&"ui-ribbon-tab-application"!==e.type});if(!n)return;n.actived=!0}},r=function(t,i){var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],o=e.state.tabs,r=o.find(function(e){return e.id===t});r&&(Object.assign(r,i),e.setState({tabs:o}),n||a(t,i))},s=function(i){return"ui-ribbon-tab-application"===i.type?t.createElement(dt,{key:i.id,id:i.id,name:i.name,displayName:i.displayName,type:i.type,enabled:i.enabled,hidden:i.hidden,actived:i.actived,items:i.items,onClick:e.handleTabClick,onStateChange:r,ref:function(t){t&&e.tabs.push(t)}}):t.createElement(ot,{key:i.id,id:i.id,name:i.name,displayName:i.displayName,type:i.type,enabled:i.enabled,hidden:i.hidden,actived:i.actived,panels:i.panels,onClick:e.handleTabClick,onStateChange:r,ref:function(t){t&&e.tabs.push(t)}})};return t.createElement("div",{id:"RibbonUI"},o(),t.createElement("div",{className:"ui-ribbon-window"},t.createElement("div",{id:"ui-ribbon-main",className:"ui-ribbon-main ui-ribbon-border-bottom"},t.createElement("div",{className:"ui-ribbon-tab-container ui-ribbon-border-bottom"},t.createElement("ul",{role:"ui-ribbon-tabs",className:"ui-ribbon-nowrap ui-ribbon-nopadding ui-ribbon-nomargin"},i.map(s))))))}},{key:"tabs",get:function(){return this[ht]}}]),i}(t.Component);pt.propTypes={id:t.PropTypes.string.isRequired,tabs:t.PropTypes.arrayOf(t.PropTypes.instanceOf(P))},pt.defaultProps={id:n(),tabs:[]};var bt=Symbol("ribbon"),ft=Symbol("options"),yt=function(){function t(e,i){if(u(this,t),!(e instanceof pt))throw"No Ribbon instance available.";this[bt]=e,this[ft]=i}return l(t,[{key:"execute",value:function(){return!0}},{key:"discard",value:function(){return!0}},{key:"ribbon",get:function(){return this[bt]}},{key:"options",get:function(){return this[ft]}}]),t}(),gt=Symbol("tasks"),vt=function(t){return t.prototype instanceof yt},mt=function(){function t(){u(this,t),this[gt]={},vt.bind(this)}return l(t,[{key:"register",value:function(t,e){return!(!vt(e)||this.getTask(t))&&(this[gt][t]=e,!0)}},{key:"unregister",value:function(t){return!!this.getTask(t)&&(delete this[gt][t],!0)}},{key:"getTask",value:function(t){return this.tasks.hasOwnProperty(t)?this.tasks[t]:null}},{key:"tasks",get:function(){return this[gt]}}]),t}(),kt=Symbol("ribbon"),Ot=Symbol("tasks"),Pt=Symbol("taskManager"),Tt=function(){function t(e,i){if(u(this,t),!(e instanceof pt))throw"No Ribbon instance available.";if(!(i instanceof mt))throw"No RibbonTaskManager instance available.";this[kt]=e,this[Pt]=i,this[Ot]={}}return l(t,[{key:"execute",value:function(t,e){var i=!1;if(this.getTask(t))console.log("[RibbonTaskExecuter] Task already executed: `%s`.",t);else{var n=this.manager.getTask(t);if(n){var o=new n(this.ribbon,e);i=o.execute(),i===!0&&(this[Ot][t]=o,console.log("[RibbonTaskExecuter] Task executed: `%s`.",t))}else console.log("[RibbonTaskExecuter] Task not found: `%s`.",t)}return i}},{key:"discard",value:function(t){var e=!1,i=this.getTask(t);if(i){if(e=i.discard(),!e)throw"Failed to discard chnages in task: `"+t+"`.";delete this[Ot][t],console.log("[RibbonTaskExecuter] Task content discarded: `%s`.",t)}else console.log("[RibbonTaskExecuter] Task not found: `%s`.",t);return e}},{key:"getTask",value:function(t){return this.tasks.hasOwnProperty(t)?this.tasks[t]:null}},{key:"ribbon",get:function(){return this[kt]}},{key:"manager",get:function(){return this[Pt]}},{key:"tasks",get:function(){return this[Ot]}}]),t}(),St=Symbol("container"),Ct=Symbol("mainRibbon"),Rt=Symbol("taskManager"),jt=Symbol("taskExecuter"),Nt=function(){function e(){u(this,e),this[Rt]=new mt,this[St]=void 0,this[Ct]=void 0,this[jt]=void 0}return l(e,[{key:"registerTask",value:function(t,e){return!!this.taskManager&&this.taskManager.register(t,e)}},{key:"unregisterTask",value:function(t){return!!this.taskManager&&this.taskManager.unregister(t)}},{key:"executeTask",value:function(t,e){return!!this.taskExecuter&&this.taskExecuter.execute(t,e)}},{key:"discardTask",value:function(t){return!!this.taskExecuter&&this.taskExecuter.discard(t)}},{key:"run",value:function(){var e=this;return new Promise(function(n,o){try{var a=e.container,r=e.taskManager;e[Ct]=i.render(t.createElement(pt,null),a),e[jt]=new Tt(e.mainRibbon,r),n(e)}catch(t){o(t)}})}},{key:"mainRibbon",get:function(){return this[Ct]}},{key:"container",get:function(){return this[St]},set:function(t){if(!(t instanceof HTMLElement))throw"[RibbonCtrl] Input container must be a HTML DOM element.";this[St]=t}},{key:"taskManager",get:function(){return this[Rt]}},{key:"taskExecuter",get:function(){return this[jt]}}]),e}(),Et={RibbonBaseData:m,RibbonTitlebarData:C,RibbonTabData:P,RibbonAppTabData:S,RibbonPanelData:it,RibbonAppMenuItemData:lt,RibbonItemData:H,RibbonButtonData:F,RibbonPushButtonData:W,RibbonToggleButtonData:_,RibbonTooltipData:w,RibbonGroupData:V,RibbonRadioButtonGroupData:X},xt={Ribbon:pt,RibbonBase:R,RibbonTab:ot,RibbonAppTab:dt,RibbonPanel:Z,RibbonTitlebar:j,RibbonItem:N,RibbonButton:I,RibbonTooltip:E,RibbonPushButton:D,RibbonToggleButton:M,RibbonGroup:$,RibbonRadioButtonGroup:K,RibbonCtrl:Nt,RibbonTask:yt,RibbonTaskManager:mt,RibbonTaskExecuter:Tt,Utility:s,Data:Et};return xt});
//# sourceMappingURL=bundle.mim.js.map

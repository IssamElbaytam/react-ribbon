!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("react"),require("visionmedia-debug"),require("classnames"),require("react-dom")):"function"==typeof define&&define.amd?define("react-ribbon",["react","visionmedia-debug","classnames","react-dom"],e):t.ReactRibbon=e(t.React,t.debug,t.classNames,t.ReactDOM)}(this,function(t,e,n,i){"use strict";t="default"in t?t.default:t,e="default"in e?e.default:e,n="default"in n?n.default:n,i="default"in i?i.default:i;var o=function(){var t=(new Date).getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)});return e},r=function(t){var e=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return e.test(t)},a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];e=e instanceof Function?e:function(t){return!0};for(var n=0;n<t.length;n++){var i=t[n];if(e(i))return i}},s=function(t){for(var e="undefined"!=typeof window&&null!==window?window:self,n=t.split("."),i=0;i<n.length;i++)e[n[i]]=e[n[i]]||{},e=e[n[i]];return e},u=e("react-ribbon");u.log=console.log.bind(console);var c={newGUID:o,isGUID:r,findItem:a,namespace:s,stderr:u},l=(function(){function t(t){this.value=t}function e(e){function n(t,e){return new Promise(function(n,o){var s={key:t,arg:e,resolve:n,reject:o,next:null};a?a=a.next=s:(r=a=s,i(t,e))})}function i(n,r){try{var a=e[n](r),s=a.value;s instanceof t?Promise.resolve(s.value).then(function(t){i("next",t)},function(t){i("throw",t)}):o(a.done?"return":"normal",a.value)}catch(t){o("throw",t)}}function o(t,e){switch(t){case"return":r.resolve({value:e,done:!0});break;case"throw":r.reject(e);break;default:r.resolve({value:e,done:!1})}r=r.next,r?i(r.key,r.arg):a=null}var r,a;this._invoke=n,"function"!=typeof e.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)},{wrap:function(t){return function(){return new e(t.apply(this,arguments))}},await:function(e){return new t(e)}}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),d=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),p=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(i)},h=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},b=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},f=function t(e,n,i,o){var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var a=Object.getPrototypeOf(e);null!==a&&t(a,n,i,o)}else if("value"in r&&r.writable)r.value=i;else{var s=r.set;void 0!==s&&s.call(o,i)}return i},y=Symbol("id"),v=Symbol("name"),g=Symbol("displayName"),m=Symbol("enabled"),k=Symbol("hidden"),_=function(){function t(e,n){if(l(this,t),"string"!=typeof e)throw"name is required.";this[y]=o(),this[v]=e,this[g]="string"!=typeof e?e:n,this[m]=!0,this[k]=!1}return d(t,[{key:"id",get:function(){return this[y]}},{key:"name",get:function(){return this[v]}},{key:"displayName",get:function(){return this[g]},set:function(t){if("string"!=typeof t)throw"Input type should be a string.";this[g]=t}},{key:"enabled",get:function(){return this[m]},set:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this[m]=t===!0}},{key:"hidden",get:function(){return this[k]},set:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this[k]=t===!0}}]),t}(),O=Symbol("actived"),P=Symbol("panels"),T=function(t){function e(t,n){l(this,e);var i=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i[O]=!1,i[P]=[],i}return h(e,t),d(e,[{key:"type",get:function(){return"ui-ribbon-tab-normal"}},{key:"actived",get:function(){return this[O]},set:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this[O]=t===!0}},{key:"panels",get:function(){return this[P]},set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this[P]=t}}]),e}(_),S=Symbol("items"),C=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"File";l(this,e);var n=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"AppTab",t));return n[S]=[],n}return h(e,t),d(e,[{key:"type",get:function(){return"ui-ribbon-tab-application"}},{key:"items",get:function(){return this[S]},set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this[S]=t}}]),e}(T),R=function(t){function e(t){return l(this,e),"string"!=typeof t&&(t="React Ribbon"),b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"AppTitlebar",t))}return h(e,t),d(e,[{key:"title",get:function(){return this.displayName},set:function(t){this.displayName=t}}]),e}(_),w=function(t){function e(t){l(this,e);var n=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),i="string"==typeof t.displayName?t.displayName:name,o=0!=t.enabled,r=t.hidden===!0;return n.state={displayName:i,enabled:o,hidden:r},n}return h(e,t),d(e,[{key:"id",get:function(){return this.props.id}},{key:"name",get:function(){return this.props.name}},{key:"displayName",get:function(){return this.state.displayName},set:function(t){if("string"!=typeof t)throw"Input type should be a string.";var e={displayName:t},n=this.props.onStateChange;n&&n(this.id,e),this.setState(e)}},{key:"enabled",get:function(){return this.state.enabled},set:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.hidden){var e=t===!0,n={enabled:e},i=this.props.onStateChange;i&&i(this.id,n),this.setState(n)}}},{key:"hidden",get:function(){return this.state.hidden},set:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=t===!0,n=!e,i={hidden:e,enabled:n},o=this.props.onStateChange;o&&o(this.id,i),this.setState(i)}}]),e}(t.Component);w.propTypes={id:t.PropTypes.string.isRequired,name:t.PropTypes.string.isRequired,displayName:t.PropTypes.string,enabled:t.PropTypes.bool,hidden:t.PropTypes.bool,onStateChange:t.PropTypes.func},w.defaultProps={id:o(),enabled:!0,hidden:!1};var j=function(e){function i(t){return l(this,i),b(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t))}return h(i,e),d(i,[{key:"toggleDisplay",value:function(){this.hidden=!this.hidden}},{key:"render",value:function(){var e=n({"ui-ribbon-invisible":this.hidden});return t.createElement("div",{className:"ui-ribbon-title "+e},t.createElement("span",null,this.title))}},{key:"title",get:function(){return this.displayName},set:function(t){if("string"!=typeof t)throw"Input type should be a string.";this.displayName=t}}]),i}(w);j.propTypes={onStateChange:t.PropTypes.func};var N=function(t){function e(t){l(this,e);var n=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),i=t.actived===!0;return n.state=Object.assign(n.state,{actived:i}),n}return h(e,t),d(e,[{key:"type",get:function(){return this.props.type}},{key:"actived",get:function(){return this.state.actived},set:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=t===!0,n={actived:e},i=this.props.onStateChange;i&&i(this.id,n),this.setState(n)}}]),e}(w);N.propTypes={id:t.PropTypes.string.isRequired,type:t.PropTypes.string.isRequired,actived:t.PropTypes.bool,onStateChange:t.PropTypes.func},N.defaultProps={id:o(),type:"ui-ribbon-panel-item",actived:!1};var x=function(e){function i(t){l(this,i);var e=b(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t));return e.state=Object.assign(e.state,{content:t.content}),e}return h(i,e),d(i,[{key:"show",value:function(){this.hidden=!1}},{key:"hide",value:function(){this.hidden=!0}},{key:"render",value:function(){var e=this,i=n({"ui-ribbon-tooltip-visible":this.hidden===!1}),o=function(){if(e.title)return t.createElement("strong",null,e.title)},r=function(){if(e.content)return t.createElement("p",null,e.content)};return t.createElement("div",{id:this.id,className:"ui-ribbon-tooltip "+i},o(),r())}},{key:"title",get:function(){return this.displayName},set:function(t){if("string"!=typeof t)throw"Input type should be a string.";this.displayName=t}},{key:"content",get:function(){return this.state.content},set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("string"!=typeof t)throw"Input content should be a string.";var e={content:t},n=this.props.onStateChange;n&&n(this.id,e),this.setState(e)}},{key:"hidden",get:function(){return this.state.hidden},set:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=t===!0,n={hidden:e},i=this.props.onStateChange;i&&i(this.id,n),this.setState(n)}}]),i}(w);x.propTypes={content:t.PropTypes.string,onStateChange:t.PropTypes.func};var E=Symbol("content"),I=function(t){function e(t,n){if(l(this,e),"string"!=typeof t)throw"Tooltip title cannot be empty.";var i=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"RibbonTooltip",t));return i[E]="string"!=typeof n?void 0:n,i.hidden=!0,i}return h(e,t),d(e,[{key:"title",get:function(){return this.displayName},set:function(t){this.displayName=t}},{key:"content",get:function(){return this[E]},set:function(t){if("string"!=typeof t)throw"Input content should be a type of string.";this[E]=t}}]),e}(_),M=function(e){function i(t){l(this,i);var e=b(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t)),n=t.icon,o=t.tooltip,r=t.toggleable===!0,a=t.clickHandler;return e.state=Object.assign(e.state,{icon:n,tooltip:o,toggleable:r,clickHandler:a}),e.handleClick=e.handleClick.bind(e),e.handleMouseOver=e.handleMouseOver.bind(e),e.handleMouseOut=e.handleMouseOut.bind(e),e}return h(i,e),d(i,[{key:"createTooltip",value:function(){var e=this,n=this.state.tooltip;if(n){if(!(n instanceof I)&&n)return u("%c[RibbonButton] Input tooltip data is invalid.","color:red;");var i=function(t,n){var i=e.state.tooltip;if(i.id===t){Object.assign(i,n);var o={tooltip:i},r=e.props.onStateChange;r&&r(e.id,o),e.setState(o)}};return t.createElement(x,{key:n.id,id:n.id,name:n.name,displayName:n.title,content:n.content,enabled:n.enabled,hidden:n.hidden,onStateChange:i,ref:"tooltip"})}}},{key:"handleClick",value:function(t){if(this.enabled){var e=this.props.clickHandler;e&&e(t)}}},{key:"handleMouseOver",value:function(){var t=this.tooltip;t&&t.show()}},{key:"handleMouseOut",value:function(){var t=this.tooltip;t&&t.hide()}},{key:"render",value:function(){var e=n({"ui-ribbon-disabled":this.enabled===!1,"ui-ribbon-invisible":this.hidden}),i=n({"ui-ribbon-active":this.actived}),r=function(e){var n=e.split("\\n"),i=o(),r=t.createElement("span",{key:i,id:i},e);return n.length>1&&(r=n.map(function(e){var n=o();return t.createElement("span",{key:n,id:n},e,t.createElement("br",null))})),r};return t.createElement("a",{key:this.id,id:this.id,className:e,onClick:this.handleClick,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut},t.createElement("div",{role:this.role,className:"ui-ribbon-button "+this.type+" ui-ribbon-relative ui-ribbon-inline ui-ribbon-center "+i},t.createElement("img",{src:this.icon}),t.createElement("div",{className:"ui-ribbon-button-legend"},r(this.displayName)),this.createTooltip()))}},{key:"role",get:function(){return this.props.role}},{key:"icon",get:function(){return this.state.icon},set:function(t){if("string"!=typeof t)throw"Input type should be a string.";var e={icon:t},n=this.props.onStateChange;n&&n(this.id,e),this.setState(e)}},{key:"toggleable",get:function(){return this.state.toggleable},set:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=t===!0,n={toggleable:e},i=this.props.onStateChange;i&&i(this.id,n),this.setState(n)}},{key:"clickHandler",get:function(){return this.state.clickHandler},set:function(t){if(!(t instanceof Function))throw"Input clicking handler is invalid.";var e={clickHandler:t},n=this.props.onStateChange;n&&n(this.id,e),this.setState(e)}},{key:"tooltip",get:function(){return this.refs.tooltip},set:function(t){if(!(t instanceof I))throw"[RibbonButton] Input tooltip data is invalid.";var e={tooltip:t},n=this.props.onStateChange;n&&n(this.id,e),this.setState(e)}}]),i}(N);M.propTypes={id:t.PropTypes.string.isRequired,role:t.PropTypes.string.isRequired,type:t.PropTypes.string.isRequired,icon:t.PropTypes.string,tooltip:t.PropTypes.instanceOf(I),toggleable:t.PropTypes.bool,clickHandler:t.PropTypes.func,onStateChange:t.PropTypes.func},M.defaultProps={id:o(),role:"ui-ribbon-button",type:"ui-ribbon-button",icon:"",toggleable:!1};var D=function(e){function i(t){return l(this,i),b(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t))}return h(i,e),d(i,[{key:"render",value:function(){var e=n({"ui-ribbon-disabled":this.enabled===!1,"ui-ribbon-invisible":this.hidden});return t.createElement("div",{className:"ui-ribbon-button-group ui-ribbon-inline "+e},p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"render",this).call(this))}}]),i}(M);D.propTypes={type:t.PropTypes.string.isRequired,onStateChange:t.PropTypes.func},D.defaultProps={type:"ui-ribbon-button-big"};var q=function(t){function e(t){l(this,e);var n=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.handleClick=n.handleClick.bind(n),n}return h(e,t),d(e,[{key:"handleClick",value:function(t){if(this.enabled){if(this.toggleable){var e=!this.actived,n={actived:e},i=this.props.onStateChange;i&&i(this.id,n),this.setState(n);var o=this.props.onGroupCurrentChange;o&&o()}var r=this.props.clickHandler;r&&r(t)}}}]),e}(D);q.propTypes={type:t.PropTypes.string.isRequired,role:t.PropTypes.string.isRequired,onGroupCurrentChange:t.PropTypes.func,onStateChange:t.PropTypes.func},q.defaultProps={role:"ui-ribbon-button-toggle",type:"ui-ribbon-button-big"};var B=Symbol("actived"),H=function(t){function e(t,n){l(this,e);var i=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i[B]=!1,i}return h(e,t),d(e,[{key:"type",get:function(){return"ui-ribbon-panel-item"}},{key:"actived",get:function(){return this[B]},set:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this[B]=t===!0}}]),e}(_),A=Symbol("icon"),G=Symbol("tooltip"),F=Symbol("toggleable"),U=Symbol("clickHandler"),W=function(t){function e(t,n){l(this,e);var i=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i[A]="",i[G]=void 0,i[F]=!1,i[U]=void 0,i}return h(e,t),d(e,[{key:"role",get:function(){return"ui-ribbon-button"}},{key:"icon",get:function(){return this[A]},set:function(t){if("string"!=typeof t)throw"Input type should be a string.";this[A]=t}},{key:"tooltip",get:function(){return this[G]},set:function(t){if(!(t instanceof I))throw"Input data is not a type of RibbonTooltipData.";this[G]=t}},{key:"toggleable",get:function(){return this[F]},set:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this[F]=t===!0}},{key:"clickHandler",get:function(){return this[U]},set:function(t){if(!(t instanceof Function))throw"Input clicking handler is invalid.";this[U]=t}}]),e}(H),L=function(t){function e(t,n){return l(this,e),b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return h(e,t),d(e,[{key:"type",get:function(){return"ui-ribbon-button-big"}}]),e}(W),$=function(t){function e(t,n){return l(this,e),b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return h(e,t),d(e,[{key:"role",get:function(){return"ui-ribbon-button-toggle"}},{key:"toggleable",get:function(){return!0}}]),e}(L),z=Symbol("items"),J=function(e){function i(t){l(this,i);var e=b(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t));return e.state=Object.assign(e.state,{items:[].concat(t.items)}),e[z]=[],e}return h(i,e),d(i,[{key:"addItem",value:function(t){var e=this.items.findIndex(function(e){return e.id==t.id||e.name===t.name});if(!(t instanceof W)||e!==-1)return u("%c[RibbonGroup] Input itemData is invalid or duplicate.","color:red;");var n=this.state.items.concat(t),i={items:n},o=this.props.onStateChange;return o&&o(this.id,i),this.setState(i),this.items[this.items.length-1]}},{key:"componentWillUpdate",value:function(t,e){this[z].length=0}},{key:"render",value:function(){var e=this,i=this.state.items,o=function(t,n){var i=e.state.items,o=i.find(function(e){return e.id===t});if(o){Object.assign(o,n);var r={items:i},a=e.props.onStateChange;a&&a(e.id,r),e.setState(r)}},r=function(n){var i=void 0;if("ui-ribbon-button-big"===n.type){var r="ui-ribbon-button-toggle"===n.role?q:D;i=t.createElement(r,{key:n.id,id:n.id,name:n.name,displayName:n.displayName,enabled:n.enabled,hidden:n.hidden,type:n.type,actived:n.actived,icon:n.icon,tooltip:n.tooltip,toggleable:n.toggleable,clickHandler:n.clickHandler,onStateChange:o,ref:function(t){t&&e.items.push(t)}})}return i},a=n({"ui-ribbon-disabled":this.enabled===!1,"ui-ribbon-invisible":this.hidden});return t.createElement("div",{key:this.id,id:this.id,className:"ui-ribbon-group ui-ribbon-inline "+a},i.map(r))}},{key:"items",get:function(){return this[z]}},{key:"enabled",get:function(){return p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"enabled",this)},set:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.hidden){var e=t===!0;f(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"enabled",e,this),this.items.map(function(t){t.enabled=e})}}},{key:"hidden",get:function(){return p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"hidden",this)},set:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=t===!0;f(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"hidden",e,this),this.items.map(function(t){t.hidden=e})}}]),i}(N);J.propTypes={id:t.PropTypes.string.isRequired,items:t.PropTypes.arrayOf(t.PropTypes.instanceOf(W)),onStateChange:t.PropTypes.func},J.defaultProps={id:o(),items:[]};var K=Symbol("current"),Q=Symbol("default"),V=function(e){function i(t){l(this,i);var e=b(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t));return e[K]=void 0,e[Q]=void 0,e}return h(i,e),d(i,[{key:"resetCurrent",value:function(){this.current=this.default}},{key:"addItem",value:function(t){if(!(t instanceof $))return u("%c[RibbonGroup] Input itemData is invalid or duplicate.","color:red;");var e=p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"addItem",this).call(this,t);return this.default||(this.default=e.id),e}},{key:"render",value:function(){var e=this,i=this.state.items,o=function(t){"string"==typeof t&&(e.current=t)},r=function(t,n){var i=e.state.items,o=i.find(function(e){return e.id===t});if(o){Object.assign(o,n);var r={items:i},a=e.props.onStateChange;a&&a(e.id,r),e.setState(r)}},a=function(n){return t.createElement(q,{key:n.id,id:n.id,name:n.name,displayName:n.displayName,enabled:n.enabled,hidden:n.hidden,type:n.type,actived:n.actived,icon:n.icon,tooltip:n.tooltip,toggleable:n.toggleable,clickHandler:n.clickHandler,onGroupCurrentChange:function(){o(n.id)},onStateChange:r,ref:function(t){t&&e.items.push(t)}})},s=n({"ui-ribbon-disabled":this.enabled===!1,"ui-ribbon-invisible":this.hidden});return t.createElement("div",{key:this.id,id:this.id,className:"ui-ribbon-group ui-ribbon-inline "+s},i.map(a))}},{key:"current",get:function(){return this[K]},set:function(t){var e=this.items.find(function(e){return e.id===t&&e.enabled});if(!e)throw"[RibbonRadioButtonGroup] Input id not exists or disabled.";e.actived=!0,this[K]=t,this.default||(this.default=t),this.items.map(function(e){e.id!==t&&(e.actived=!1)})}},{key:"default",get:function(){return this[Q]},set:function(t){var e=this.items.find(function(e){return e.id===t&&e.enabled});if(!e)throw"[RibbonRadioButtonGroup] Input id not exists or disabled.";this[Q]=t,this.current||(this.current=t)}}]),i}(J);J.propTypes={id:t.PropTypes.string.isRequired,items:t.PropTypes.arrayOf(t.PropTypes.instanceOf($)),onStateChange:t.PropTypes.func},J.defaultProps={id:o(),items:[]};var X=Symbol("items"),Y=function(t){function e(t,n){l(this,e);var i=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i[X]=[],i}return h(e,t),d(e,[{key:"type",get:function(){return"ui-ribbon-group"}},{key:"items",get:function(){return this[X]},set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this[X]=t}}]),e}(H),Z=function(t){function e(t,n){return l(this,e),b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return h(e,t),d(e,[{key:"type",get:function(){return"ui-ribbon-radio-group"}}]),e}(Y),tt=Symbol("items"),et=function(e){function i(t){l(this,i);var e=b(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t));return e.state=Object.assign(e.state,{items:[].concat(t.items)}),e[tt]=[],e}return h(i,e),d(i,[{key:"addItem",value:function(t){var e=this.items.findIndex(function(e){return e.id==t.id||e.name===t.name});if(!(t instanceof H)||e!==-1)return u("%c[RibbonPanel] Input itemData is invalid or duplicate.","color:red;");var n=this.state.items.concat(t),i={items:n},o=this.props.onStateChange;return o&&o(this.id,i),this.setState(i),this.items[this.items.length-1]}},{key:"componentWillUpdate",value:function(t,e){this[tt].length=0}},{key:"render",value:function(){var e=this,i=this.state.items,o=n({"ui-ribbon-disabled":this.enabled===!1,"ui-ribbon-invisible":this.hidden,"ui-ribbon-inline":this.hidden===!1}),r=n({"ui-ribbon-empty":0===i.length,"ui-riibon-panel-single-btn":1===i.length}),a=n({"ui-ribbon-disabled":this.enabled===!1}),s=function(t,n){var i=e.state.items,o=i.find(function(e){return e.id===t});if(o){Object.assign(o,n);var r={items:i},a=e.props.onStateChange;a&&a(e.id,r),e.setState(r)}},u=function(n){var i=void 0;if("ui-ribbon-radio-group"===n.type||"ui-ribbon-group"===n.type){var o="ui-ribbon-group"===n.type?J:V;i=t.createElement(o,{key:n.id,id:n.id,name:n.name,displayName:n.displayName,enabled:n.enabled,hidden:n.hidden,type:n.type,items:n.items,actived:n.actived,onStateChange:s,ref:function(t){t&&e.items.push(t)}})}else if("ui-ribbon-button-big"===n.type){var r="ui-ribbon-button-toggle"===n.role?q:D;i=t.createElement(r,{key:n.id,id:n.id,name:n.name,displayName:n.displayName,enabled:n.enabled,hidden:n.hidden,type:n.type,actived:n.actived,icon:n.icon,tooltip:n.tooltip,toggleable:n.toggleable,clickHandler:n.clickHandler,onStateChange:s,ref:function(t){t&&e.items.push(t)}})}return i},c=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(e)return t.createElement("div",{className:"ui-ribbon-panel-seperator ui-ribbon-relative ui-ribbon-inline"})};return t.createElement("div",{key:this.id,className:"ui-ribbon-panel-container ui-ribbon-relative "+o},c(this.seperator),t.createElement("div",{className:"ui-ribbon-panel ui-ribbon-relative ui-ribbon-inline "+r},t.createElement("div",{className:"ui-ribbon-panel-contents"},i.map(u),t.createElement("div",{className:"ui-ribbon-panel-legend ui-ribbon-absolute "+a},this.displayName))))}},{key:"seperator",get:function(){return this.props.seperator}},{key:"items",get:function(){return this[tt]}},{key:"enabled",get:function(){return p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"enabled",this)},set:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.hidden){var e=t===!0;f(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"enabled",e,this),this.items.map(function(t){t.enabled=e})}}},{key:"hidden",get:function(){return p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"hidden",this)},set:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=t===!0;f(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"hidden",e,this),this.items.map(function(t){t.hidden=e})}}]),i}(w);et.propTypes={id:t.PropTypes.string.isRequired,seperator:t.PropTypes.bool,items:t.PropTypes.arrayOf(t.PropTypes.instanceOf(H)),onStateChange:t.PropTypes.func},et.defaultProps={id:o(),seperator:!0,items:[]};var nt=Symbol("seperator"),it=Symbol("items"),ot=function(t){function e(t,n){l(this,e);var i=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i[nt]=!0,i[it]=[],i}return h(e,t),d(e,[{key:"seperator",get:function(){return this[nt]},set:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this[nt]=t===!0}},{key:"items",get:function(){return this[it]},set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this[it]=t}}]),e}(_),rt=Symbol("panels"),at=function(e){function i(t){l(this,i);var e=b(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t)),n=t.actived===!0;return e.state=Object.assign(e.state,{actived:n,panels:[].concat(t.panels)}),e[rt]=[],e.handleClick=e.handleClick.bind(e),e}return h(i,e),d(i,[{key:"addPanel",value:function(t){var e=this.panels.findIndex(function(e){return e.id==t.id||e.name===t.name});if(!(t instanceof ot)||e!==-1)return u("%c[RibbonTab] Input panelData is invalid or duplicate.","color:red;");t.seperator=0!==this.panels.length;var n=this.state.panels.concat(t),i={panels:n},o=this.props.onStateChange;return o&&o(this.id,i),this.setState(i),this.panels[this.panels.length-1]}},{key:"componentWillUpdate",value:function(t,e){this[rt].length=0}},{key:"handleClick",value:function(){if("ui-ribbon-tab-application"!==this.type){var t=this.props.onClick;t&&t(this.id)}}},{key:"render",value:function(){var e=this,i=this.state.panels,o=n({"ui-ribbon-active":this.actived,"ui-ribbon-disabled":this.enabled===!1,"ui-ribbon-invisible":this.hidden,"ui-ribbon-inline":this.hidden===!1}),r=function(t,n){var i=e.state.panels,o=i.find(function(e){return e.id===t});if(o){Object.assign(o,n);var r={panels:i},a=e.props.onStateChange;a&&a(e.id,r),e.setState(r)}},a=function(n){return t.createElement(et,{key:n.id,id:n.id,name:n.name,displayName:n.displayName,enabled:n.enabled,hidden:n.hidden,seperator:n.seperator,items:n.items,onStateChange:r,ref:function(t){t&&e.panels.push(t)}})};return t.createElement("li",{key:this.id,id:this.id,className:this.type+" "+o,role:"ui-ribbon-tab",onClick:this.handleClick},t.createElement("span",{className:"ui-ribbon-uppercase"},this.displayName),t.createElement("div",{className:"ui-ribbon-tab-contents ui-ribbon-absolute"},i.map(a)))}},{key:"type",get:function(){return this.props.type}},{key:"enabled",get:function(){return p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"enabled",this)},set:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.hidden){var e=t===!0,n={enabled:e,actived:!1},i=this.props.onStateChange;i&&i(this.id,n),this.panels.map(function(t){t.enabled=e}),this.setState(n)}}},{key:"hidden",get:function(){return p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"hidden",this)},set:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=t===!0,n=!e,i={hidden:e,enabled:n,actived:!1},o=this.props.onStateChange;o&&o(this.id,i),this.panels.map(function(t){t.hidden=e}),this.setState(i)}},{key:"actived",get:function(){return this.state.actived},set:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=t===!0,n={actived:e},i=this.props.onStateChange;i&&i(this.id,n),this.setState(n)}},{key:"panels",get:function(){return this[rt]}}]),i}(w);at.propTypes={id:t.PropTypes.string.isRequired,type:t.PropTypes.string.isRequired,actived:t.PropTypes.bool,panels:t.PropTypes.arrayOf(t.PropTypes.instanceOf(ot)),onStateChange:t.PropTypes.func},at.defaultProps={id:o(),type:"ui-ribbon-tab-normal",actived:!1,panels:[]};var st=function(e){function n(t){return l(this,n),b(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t))}return h(n,e),d(n,[{key:"render",value:function(){return t.createElement("li",{key:this.id,id:this.id,className:"ui-ribbon-seperator"},t.createElement("div",{className:"ui-ribbon-seperator"}))}},{key:"type",get:function(){return"ui-ribbon-seperator"}}]),n}(t.Component);st.propTypes={id:t.PropTypes.string.isRequired},st.defaultProps={id:o()};var ut=function(e){function i(t){l(this,i);var e=b(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t)),n=t.actived===!0,o=t.content;return e.state=Object.assign(e.state,{actived:n,content:o}),e.handleClick=e.handleClick.bind(e),e}return h(i,e),d(i,[{key:"handleClick",value:function(){var t=this.props.onMenuClick;t&&t(this.id)}},{key:"render",value:function(){var e=n({"ui-ribbon-active":this.actived,"ui-ribbon-disabled":this.enabled===!1,"ui-ribbon-invisible":this.hidden}),i=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(e){var n=o();return t.createElement(st,{key:n,id:n})}};return t.createElement("div",null,i(this.seperator),t.createElement("li",{key:this.id,className:e,onClick:this.handleClick},t.createElement("div",null," ",this.displayName," ")))}},{key:"type",get:function(){return this.props.type}},{key:"seperator",get:function(){return this.props.seperator}},{key:"enabled",get:function(){return p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"enabled",this)},set:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.hidden){var e=t===!0;f(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"enabled",e,this)}}},{key:"hidden",get:function(){return p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"hidden",this)},set:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=t===!0;f(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"hidden",e,this)}},{key:"actived",get:function(){return this.state.actived},set:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=t===!0,n={actived:e},i=this.props.onStateChange;i&&i(this.id,n,!0),this.setState(n)}},{key:"content",get:function(){return this.state.content},set:function(t){if(!(t instanceof Function))throw"Input content handler is invalid.";var e={content:t},n=this.props.onStateChange;n&&n(this.id,e),this.setState(e)}}]),i}(w);ut.propTypes={id:t.PropTypes.string.isRequired,type:t.PropTypes.string.isRequired,seperator:t.PropTypes.bool,actived:t.PropTypes.bool,content:t.PropTypes.func,onMenuClick:t.PropTypes.func,onStateChange:t.PropTypes.func},ut.defaultProps={id:o(),type:"ui-ribbon-app-menu-normal",seperator:!1,actived:!1};var ct=function(t){function e(t){l(this,e);var n=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.handleClick=n.handleClick.bind(n),n}return h(e,t),d(e,[{key:"handleClick",value:function(t){if(this.enabled){var e=this.state.content;e&&e(t)}}},{key:"clickHandler",get:function(){return this.state.content},set:function(t){if(!(t instanceof Function))throw"Input clicking handler is invalid.";this.content=t}}]),e}(ut);ct.propTypes={id:t.PropTypes.string.isRequired,type:t.PropTypes.string.isRequired,seperator:t.PropTypes.bool,actived:t.PropTypes.bool,content:t.PropTypes.func,onStateChange:t.PropTypes.func},ct.defaultProps={id:o(),type:"ui-ribbon-app-menu-button",seperator:!0,actived:!1};var lt=Symbol("seperator"),dt=Symbol("actived"),pt=Symbol("contnet"),ht=function(t){function e(t,n){l(this,e);var i=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i[lt]=!1,i[dt]=!1,i[pt]=void 0,i}return h(e,t),d(e,[{key:"type",get:function(){return"ui-ribbon-app-menu-normal"}},{key:"seperator",get:function(){return this[lt]},set:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this[lt]=t===!0;
}},{key:"actived",get:function(){return this[dt]},set:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this[dt]=t===!0}},{key:"content",get:function(){return this[pt]},set:function(t){if(!(t instanceof Function))throw"Input content handler is invalid.";this[pt]=t}}]),e}(_),bt=function(t){function e(t,n){return l(this,e),b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return h(e,t),d(e,[{key:"type",get:function(){return"ui-ribbon-app-menu-button"}}]),e}(ht),ft=Symbol("items"),yt=Symbol("current"),vt=Symbol("default"),gt=function(e){function i(t){l(this,i);var e=b(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t));return e.state=Object.assign(e.state,{items:[].concat(t.items)}),e[ft]=[],e[yt]=void 0,e[vt]=void 0,e.handleClick=e.handleClick.bind(e),e.handleClose=e.handleClose.bind(e),e.handleItemClick=e.handleItemClick.bind(e),e}return h(i,e),d(i,[{key:"resetCurrent",value:function(){this.current=this.default}},{key:"addItem",value:function(t){var e=this.items.findIndex(function(e){return e.id===t.id||e.name===t.name});if(!(t instanceof ht)||e!==-1)return u("%c[RibbonAppTab] Input itemData is invalid or duplicate.","color:red;");var n=this.state.items.concat(t),i={items:n},o=this.props.onStateChange;o&&o(this.id,i,!0),this.setState(i);var r=this.items[this.items.length-1];return r instanceof ct||this.default||(this.default=r.id),r}},{key:"activeItemById",value:function(t){if("string"!=typeof t)return u("%c[RibbonAppTab] ItemId should be a string.","color:red;");var e=this.items.find(function(e){return e.id===t});if(!e)throw"[RibbonAppTab] Input item id not exists.";e.actived=!0}},{key:"componentWillUpdate",value:function(){this[ft].length=0}},{key:"handleClick",value:function(){var t=this.props.onClick;t&&t(this.id)}},{key:"handleClose",value:function(t){t.stopPropagation(),this.actived=!1}},{key:"handleItemClick",value:function(t){this.activeItemById(t)}},{key:"render",value:function(){var e=this,i=n({"ui-ribbon-active":this.actived,"ui-ribbon-disabled":this.enabled===!1,"ui-ribbon-invisible":this.hidden,"ui-ribbon-inline":this.hidden===!1}),o=function(t){"string"==typeof t&&(e[yt]=t)},r=function(n){return"ui-ribbon-app-menu-button"===n.type?t.createElement(ct,{key:n.id,id:n.id,name:n.name,displayName:n.displayName,enabled:n.enabled,hidden:n.hidden,type:n.type,actived:n.actived,content:n.content,seperator:n.seperator,onStateChange:s,ref:function(t){t&&e.items.push(t)}}):t.createElement(ut,{key:n.id,id:n.id,name:n.name,displayName:n.displayName,enabled:n.enabled,hidden:n.hidden,type:n.type,actived:n.actived,content:n.content,seperator:n.seperator,onMenuClick:e.handleItemClick,onStateChange:s,ref:function(t){t&&e.items.push(t)}})},a=function(t,n){if(n.hasOwnProperty("actived"))if(n.actived===!0)e.items.map(function(e){e.id!==t&&(e.actived=!1)}),o(t);else if(n.hasOwnProperty("enabled")&&n.enabled===!1){var i=e.items.find(function(e){return e.id!==t&&e.enabled===!0&&"ui-ribbon-app-menu-button"!==e.type});if(!i)return;i.actived=!0,o(t)}},s=function(t,n){var i=e.state.items,o=i.find(function(e){return e.id===t});if(o){Object.assign(o,n);var r={items:i},s=e.props.onStateChange;s&&s(e.id,r),e.setState(r),"ui-ribbon-app-menu-button"!==o.type&&a(t,n)}},u=function(t){if(t){var n=e.state.items,i=n.find(function(e){return e.id===t});if(i){var o=i.content;if(o)return o()}}};return t.createElement("li",{key:this.id,id:this.id,className:this.type+" "+i,role:"ui-ribbon-tab",onClick:this.handleClick},t.createElement("span",{className:"ui-ribbon-uppercase"},this.displayName),t.createElement("div",{className:"ui-ribbon-tab-application-contents ui-ribbon-absolute"},t.createElement("div",{id:"ribbon-nav-application-menu"},t.createElement("div",{className:"ribbon-nav-back-arrow",onClick:this.handleClose}),t.createElement("ul",{role:"ribbon-nav-application-menu-items"},this.state.items.map(r))),t.createElement("div",{role:"ribbon-nav-application-menu-content"},t.createElement("div",{className:"ribbon-content-area"},u(this.current)))))}},{key:"type",get:function(){return this.props.type}},{key:"items",get:function(){return this[ft]}},{key:"current",get:function(){return this[yt]},set:function(t){var e=this.items.find(function(e){return e.id===t&&"ui-ribbon-app-menu-button"!==e.type&&e.enabled});if(!e)throw"[RibbonAppTab] Input id not exists or disabled.";e.actived=!0,this[yt]=t,this.default||(this.default=t),this.items.map(function(e){e.id!==t&&(e.actived=!1)})}},{key:"default",get:function(){return this[vt]},set:function(t){var e=this.items.find(function(e){return e.id===t&&"ui-ribbon-app-menu-button"!==e.type&&e.enabled});if(!e)throw"[RibbonAppTab] Input id not exists or disabled.";this[vt]=t,this.current||(this.current=t)}},{key:"enabled",get:function(){return p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"enabled",this)},set:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.hidden){var e=t===!0,n={enabled:e,actived:!1},i=this.props.onStateChange;i&&i(this.id,n,!0),this.setState(n),this.items.map(function(t){t.enabled=e})}}},{key:"hidden",get:function(){return p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"hidden",this)},set:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=t===!0,n=!e,i={hidden:e,enabled:n,actived:!1},o=this.props.onStateChange;o&&o(this.id,i,!0),this.setState(i),this.items.map(function(t){t.hidden=e})}},{key:"actived",get:function(){return this.state.actived},set:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=t===!0,n={actived:e},i=this.props.onStateChange;i&&i(this.id,n,!0),this.setState(n)}}]),i}(w);gt.propTypes={id:t.PropTypes.string.isRequired,type:t.PropTypes.string.isRequired,actived:t.PropTypes.bool,items:t.PropTypes.arrayOf(t.PropTypes.instanceOf(ht)),onStateChange:t.PropTypes.func},gt.defaultProps={id:o(),type:"ui-ribbon-tab-application",actived:!1,items:[]};var mt=Symbol("tabs"),kt=function(e){function n(t){l(this,n);var e=b(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t)),i=new C,o=[i].concat(t.tabs),r=new R;return e.state={tabs:o,titlebar:r},e[mt]=[],e.handleTabClick=e.handleTabClick.bind(e),e}return h(n,e),d(n,[{key:"toggleAppTitle",value:function(){this.refs.titlebar.toggleDisplay()}},{key:"addTab",value:function(t){var e=this.tabs.findIndex(function(e){return e.id==t.id||e.name===t.name});if(!(t instanceof T)||e!==-1)return u("%c[Ribbon] Input tabData is invalid or duplicate.","color:red;");t.actived=1===this.tabs.length;var n=this.state.tabs.concat(t);return this.setState({tabs:n}),this.tabs[this.tabs.length-1]}},{key:"activeTabById",value:function(t){if("string"!=typeof t)return u("%c[Ribbon] TabId should be a string.","color:red;");var e=this.tabs.find(function(e){return e.id===t});if(!e)throw"[Ribbon] Input tab id not exists.";e.actived=!0}},{key:"handleTabClick",value:function(t){this.activeTabById(t)}},{key:"componentWillUpdate",value:function(){this[mt].length=0}},{key:"render",value:function(){var e=this,n=this.state.tabs,i=function(t,n){var i=e.state.titlebar;i.id===t&&(Object.assign(i,n),e.setState({titlebar:i}))},o=function(){var n=e.state.titlebar;return t.createElement(j,{key:n.id,id:n.id,name:n.name,displayName:n.title,enabled:n.enabled,hidden:n.hidden,ref:"titlebar",onStateChange:i})},r=function(t,n){if(n.hasOwnProperty("actived"))if(n.actived===!0)e.tabs.map(function(e){e.id!==t&&(e.actived=!1)});else if(n.hasOwnProperty("enabled")&&n.enabled===!1){var i=e.tabs.find(function(e){return e.id!==t&&e.enabled===!0&&"ui-ribbon-tab-application"!==e.type});if(!i)return;i.actived=!0}},a=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.state.tabs,a=o.find(function(e){return e.id===t});a&&(Object.assign(a,n),e.setState({tabs:o}),i||r(t,n))},s=function(n){return"ui-ribbon-tab-application"===n.type?t.createElement(gt,{key:n.id,id:n.id,name:n.name,displayName:n.displayName,type:n.type,enabled:n.enabled,hidden:n.hidden,actived:n.actived,items:n.items,onClick:e.handleTabClick,onStateChange:a,ref:function(t){t&&e.tabs.push(t)}}):t.createElement(at,{key:n.id,id:n.id,name:n.name,displayName:n.displayName,type:n.type,enabled:n.enabled,hidden:n.hidden,actived:n.actived,panels:n.panels,onClick:e.handleTabClick,onStateChange:a,ref:function(t){t&&e.tabs.push(t)}})};return t.createElement("div",{id:"RibbonUI"},o(),t.createElement("div",{className:"ui-ribbon-window"},t.createElement("div",{id:"ui-ribbon-main",className:"ui-ribbon-main ui-ribbon-border-bottom"},t.createElement("div",{className:"ui-ribbon-tab-container ui-ribbon-border-bottom"},t.createElement("ul",{role:"ui-ribbon-tabs",className:"ui-ribbon-nowrap ui-ribbon-nopadding ui-ribbon-nomargin"},n.map(s))))))}},{key:"tabs",get:function(){return this[mt]}}]),n}(t.Component);kt.propTypes={id:t.PropTypes.string.isRequired,tabs:t.PropTypes.arrayOf(t.PropTypes.instanceOf(T))},kt.defaultProps={id:o(),tabs:[]};var _t=Symbol("ribbon"),Ot=Symbol("options"),Pt=function(){function t(e,n){if(l(this,t),!(e instanceof kt))throw"No Ribbon instance available.";this[_t]=e,this[Ot]=n}return d(t,[{key:"execute",value:function(){return!0}},{key:"discard",value:function(){return!0}},{key:"ribbon",get:function(){return this[_t]}},{key:"options",get:function(){return this[Ot]}}]),t}(),Tt=Symbol("tasks"),St=function(t){return t.prototype instanceof Pt},Ct=function(){function t(){l(this,t),this[Tt]={},St.bind(this)}return d(t,[{key:"register",value:function(t,e){return!(!St(e)||this.getTask(t))&&(this[Tt][t]=e,!0)}},{key:"unregister",value:function(t){return!!this.getTask(t)&&(delete this[Tt][t],!0)}},{key:"getTask",value:function(t){return this.tasks.hasOwnProperty(t)?this.tasks[t]:null}},{key:"tasks",get:function(){return this[Tt]}}]),t}(),Rt=Symbol("ribbon"),wt=Symbol("tasks"),jt=Symbol("taskManager"),Nt=function(){function t(e,n){if(l(this,t),!(e instanceof kt))throw"No Ribbon instance available.";if(!(n instanceof Ct))throw"No RibbonTaskManager instance available.";this[Rt]=e,this[jt]=n,this[wt]={}}return d(t,[{key:"execute",value:function(t,e){var n=!1;if(this.getTask(t))u("[RibbonTaskExecuter] Task already executed: `%s`.",t);else{var i=this.manager.getTask(t);if(i){var o=new i(this.ribbon,e);n=o.execute(),n===!0&&(this[wt][t]=o,u("[RibbonTaskExecuter] Task executed: `%s`.",t))}else u("[RibbonTaskExecuter] Task not found: `%s`.",t)}return n}},{key:"discard",value:function(t){var e=!1,n=this.getTask(t);if(n){if(e=n.discard(),!e)throw"Failed to discard chnages in task: `"+t+"`.";delete this[wt][t],u("[RibbonTaskExecuter] Task content discarded: `%s`.",t)}else u("[RibbonTaskExecuter] Task not found: `%s`.",t);return e}},{key:"getTask",value:function(t){return this.tasks.hasOwnProperty(t)?this.tasks[t]:null}},{key:"ribbon",get:function(){return this[Rt]}},{key:"manager",get:function(){return this[jt]}},{key:"tasks",get:function(){return this[wt]}}]),t}(),xt=Symbol("container"),Et=Symbol("mainRibbon"),It=Symbol("taskManager"),Mt=Symbol("taskExecuter"),Dt=function(){function e(){l(this,e),this[It]=new Ct,this[xt]=void 0,this[Et]=void 0,this[Mt]=void 0}return d(e,[{key:"registerTask",value:function(t,e){return!!this.taskManager&&this.taskManager.register(t,e)}},{key:"unregisterTask",value:function(t){return!!this.taskManager&&this.taskManager.unregister(t)}},{key:"executeTask",value:function(t,e){return!!this.taskExecuter&&this.taskExecuter.execute(t,e)}},{key:"discardTask",value:function(t){return!!this.taskExecuter&&this.taskExecuter.discard(t)}},{key:"run",value:function(){var e=this;return new Promise(function(n,o){try{var r=e.container,a=e.taskManager;e[Et]=i.render(t.createElement(kt,null),r),e[Mt]=new Nt(e.mainRibbon,a),n(e)}catch(t){o(t)}})}},{key:"mainRibbon",get:function(){return this[Et]}},{key:"container",get:function(){return this[xt]},set:function(t){if(!(t instanceof HTMLElement))throw"[RibbonCtrl] Input container must be a HTML DOM element.";this[xt]=t}},{key:"taskManager",get:function(){return this[It]}},{key:"taskExecuter",get:function(){return this[Mt]}}]),e}(),qt={RibbonBaseData:_,RibbonTitlebarData:R,RibbonTabData:T,RibbonAppTabData:C,RibbonPanelData:ot,RibbonAppMenuItemData:ht,RibbonAppMenuButtonData:bt,RibbonItemData:H,RibbonButtonData:W,RibbonPushButtonData:L,RibbonToggleButtonData:$,RibbonTooltipData:I,RibbonGroupData:Y,RibbonRadioButtonGroupData:Z},Bt={Ribbon:kt,RibbonBase:w,RibbonTab:at,RibbonAppTab:gt,RibbonAppMenuItem:ut,RibbonAppMenuButton:ct,RibbonPanel:et,RibbonTitlebar:j,RibbonItem:N,RibbonButton:M,RibbonTooltip:x,RibbonPushButton:D,RibbonToggleButton:q,RibbonGroup:J,RibbonRadioButtonGroup:V,RibbonCtrl:Dt,RibbonTask:Pt,RibbonTaskManager:Ct,RibbonTaskExecuter:Nt,Utility:c,Data:qt};return Bt});

//# sourceMappingURL=bundle.min.js.map
